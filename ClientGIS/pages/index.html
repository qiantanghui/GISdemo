<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src = '../js/jquery.min.3.2.1.js'></script>
    <script src="../js/echarts.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <style>
        .right_content{
            /*border:#06C 2px solid;*/
            position:fixed;
            width:20%;
            height:100%;
            z-index:100;
            top: 0px;
            right:0px;
            text-align:center;
            background-color:rgba(0,0,0,0.3);
        }
        .chart_div{
            height:24%;
            width:100%;
            border-top: solid 4px #8CD4F5;
        }
        .curve{
            width:100%;
            height:95%;
            padding-top:10px;
        }
    </style>
</head>
<body>
<div id="right_zj" class="right_content">
    <label class="label_head">整体统计</label>
    <div class="chart_div" style="border-top:none">
        <div id="curve1" class="curve"></div>
    </div>
    <div class="chart_div">
        <div id="curve2" class="curve"></div>
    </div>
    <div class="chart_div">
        <div id="curve3" class="curve"></div>
    </div>
    <div class="chart_div">
        <div id="curve4" class="curve"></div>
    </div>
    <script>
        $(function () {
            init();
        });
        function randomNum(maxNum, minNum, decimalNum) {
            var max = 0, min = 0;
            minNum <= maxNum ? (min = minNum, max = maxNum) : (min = maxNum, max = minNum);
            switch (arguments.length) {
                case 1:
                    return Math.floor(Math.random() * (max + 1));
                    break;
                case 2:
                    return Math.floor(Math.random() * (max - min + 1) + min);
                    break;
                case 3:
                    return (Math.random() * (max - min) + min).toFixed(decimalNum);
                    break;
                default:
                    return Math.random();
                    break;
            }
        }
        function init() {
            var dom1 = document.getElementById("curve1");
            var dom2 = document.getElementById("curve2");
            var dom3 = document.getElementById("curve3");
            var dom4 = document.getElementById("curve4");
            var chart1,chart2,chart3,chart4;
            var y='bottom';
            ///学校数量情况
            var legendData1 = ["普通高（完）中","初级中学","特殊教育学校","小学","幼儿园"];
            var series1 = [];
            series1.push({ value: randomNum(1,22), name:'普通高（完）中'});
            series1.push({ value: randomNum(1,114), name:'初级中学'});
            series1.push({ value: randomNum(1,2), name:'特殊教育学校'});
            series1.push({ value: randomNum(1,702), name:'小学'});
            series1.push({ value: randomNum(1,548), name:'幼儿园'});
            if (chart1 != null && chart1 != "" && chart1 != undefined) {
                chart1.dispose();
            }
            var title1 = "学校数量";
            var option1 = getOption(title1,'', legendData1, series1);
            chart1 = echarts.init(dom1);
            chart1.setOption(option1, true);
            function getOption(title,subtitle,legendData,seriesData) {
                var option = {
                    title: {
                        text: title,
                        subtext: subtitle,
                        x: 'left',
                        y: y,
                        textStyle:{
                            color: 'red',
                            fontSize: 16
                        }
                    },
                    tooltip: {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        //orient: 'vertical',
                        left: 'center',
                        data: legendData
                    },
                    series: [
                        {
                            name: title,
                            type: 'pie',
                            radius: '55%',
                            center: ['50%', '60%'],
                            data: seriesData,
                            itemStyle: {
                                emphasis: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                }
                            }
                        }
                    ]
                };
                return option;
            }

            ///教职工情况
            var option2 = {
                title : {
                    text: '教职工情况',
                    textStyle:{
                        color: 'red',
                        fontSize: 16
                    },
                    x: 'left',
                    y: y,
                },
                tooltip : {
                    trigger: 'axis'
                },
                legend: {
                    data:['教职工','专任教师']
                },
                toolbox: {
                    show : true,
                    feature : {
                        mark : {show: true},
                        dataView : {show: true, readOnly: false},
                        magicType : {show: true, type: ['line', 'bar']},
                        restore : {show: true},
                        saveAsImage : {show: true}
                    }
                },
                calculable : true,
                xAxis : [
                    {
                        type : 'category',
                        data : ['普通高中','普通初中','普通小学','学前教育','特殊教育']
                    }
                ],
                yAxis : [
                    {
                        type : 'value'
                    }
                ],
                series : [
                    {
                        name:'教职工',
                        type:'bar',
                        data:[randomNum(1000,5000), randomNum(3000,8000), randomNum(5000,13000), randomNum(1000,5000), randomNum(1,100)]
                    },
                    {
                        name:'专任教师',
                        type:'bar',
                        data:[randomNum(1000,5000), randomNum(3000,8000), randomNum(5000,13000), randomNum(1000,5000), randomNum(1,100)]
                    }
                ]
            };
            chart2 = echarts.init(dom2);
            chart2.setOption(option2, true);

            ///入学率
            var option3 = {
                title : {
                    text: '入学率(%)',
                    textStyle:{
                        color: 'red',
                        fontSize: 16
                    },
                    x: 'left',
                    y: y
                },
                tooltip : {
                    trigger: 'axis'
                },
                legend: {
                    data:['入学率']
                },
                toolbox: {
                    show : true,
                    feature : {
                        mark : {show: true},
                        dataView : {show: true, readOnly: false},
                        magicType : {show: true, type: ['line', 'bar']},
                        restore : {show: true},
                        saveAsImage : {show: true}
                    }
                },
                calculable : true,
                xAxis : [
                    {
                        type : 'category',
                        data : ['学龄前儿童','残疾儿童','小学','初中','高中']
                    }
                ],
                yAxis : [
                    {
                        type : 'value'
                    }
                ],
                series : [
                    {
                        name:'入学率',
                        type:'bar',
                        data:[randomNum(80,100,2), randomNum(80,100,2), randomNum(80,100,2), randomNum(80,100,2), randomNum(80,100,2)]
                    }
                ]
            };
            chart3 = echarts.init(dom3);
            chart3.setOption(option3, true);

            ///体质健康标准测试
            var legendData4 = ["优秀","良好","及格","不及格"];
            var series4 = [];
            series4.push({ value: randomNum(5000,29635), name:'优秀'});
            series4.push({ value: randomNum(10000,35404), name:'良好'});
            series4.push({ value: randomNum(3000,24415), name:'及格'});
            series4.push({ value: randomNum(100,1141), name:'不及格'});
            if (chart4 != null && chart4 != "" && chart4 != undefined) {
                chart4.dispose();
            }
            var title4 = "体测情况统计";
            var subtitle="总共90595人";
            var option4 = getOption(title4,"",legendData4, series4);
            chart4 = echarts.init(dom4);
            chart4.setOption(option4, true);
        }

    </script>
</div>
</body>
</html>